import{u as d,a as x,b as m,e as h,r as g,s as u,h as p,j as e,m as f,C as v,c as y}from"./index-Dbv-jb_x.js";import{C as b}from"./circle-check-big-CEvOBzdg.js";import{L as j}from"./lock-DHYzNhro.js";const C=()=>{const o=d(),{bookId:l}=x(),{progress:c,isUnitUnlocked:n}=m(),t=h.find(s=>s.id===Number(l));return g.useEffect(()=>(u(()=>o("/")),p(),()=>{}),[o]),t?e.jsxs("div",{className:"h-full overflow-y-auto pb-6 safe-area-bottom",children:[e.jsxs("div",{className:"px-4 pt-4 pb-3",children:[e.jsx("div",{className:`w-full h-24 rounded-2xl bg-gradient-to-br ${t.color} flex items-center justify-center mb-4`,children:e.jsx("h1",{className:"text-xl font-bold text-white text-center px-4",children:t.title})}),e.jsx("p",{className:"text-sm",style:{color:"var(--tg-subtitle)"},children:t.description}),e.jsxs("p",{className:"text-xs mt-1",style:{color:"var(--tg-hint)"},children:[t.units.length," units • ",t.units.reduce((s,a)=>s+a.words.length,0)," words"]})]}),e.jsx("div",{className:"px-4 space-y-2",children:t.units.map((s,a)=>{const i=c.results[`${t.id}-${s.id}`],r=n(t.id,s.id);return e.jsxs(f.button,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:a*.03},whileTap:r?{scale:.98}:void 0,onClick:()=>{r&&(y.impact("light"),o(`/unit/${t.id}/${s.id}`))},disabled:!r,className:"w-full flex items-center gap-3 p-4 rounded-xl transition-opacity",style:{backgroundColor:"var(--tg-section-bg)",border:"1px solid var(--tg-secondary-bg)",opacity:r?1:.5},children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold shrink-0",style:{backgroundColor:i?"#22c55e20":"var(--tg-secondary-bg)",color:i?"#22c55e":"var(--tg-text)"},children:i?e.jsx(b,{size:20}):s.id}),e.jsxs("div",{className:"flex-1 text-left min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold",style:{color:"var(--tg-text)"},children:s.title}),e.jsxs("p",{className:"text-xs",style:{color:"var(--tg-hint)"},children:[s.words.length," words",i&&` • ${i.percentage}%`]})]}),r?e.jsx(v,{size:18,style:{color:"var(--tg-hint)"}}):e.jsx(j,{size:16,style:{color:"var(--tg-hint)"}})]},s.id)})})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx("p",{style:{color:"var(--tg-hint)"},children:"Book not found"})})};export{C as BookPage};
