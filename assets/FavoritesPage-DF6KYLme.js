import{u as j,b as v,r as x,l as f,h as N,e as b,j as t,m as w,V as k,C as I,c as h}from"./index-CAlHdi32.js";import{H as m}from"./heart-Bf7dpuU8.js";const F=()=>{const r=j(),{progress:a,toggleFavorite:p}=v();x.useEffect(()=>{f(),N()},[]);const n=x.useMemo(()=>{const e=[];for(const s of a.favorites||[]){const o=s.split("-");if(o.length<3)continue;const l=Number(o[0]),c=Number(o[1]),y=o.slice(2).join("-"),d=b.find(i=>i.id===l)?.units.find(i=>i.id===c)?.words.find(i=>i.word.toLowerCase()===y);d&&e.push({word:d,editionId:l,unitId:c,key:s})}return e},[a.favorites]),u=e=>{const s=new SpeechSynthesisUtterance(e);s.lang="en-US",speechSynthesis.speak(s),h.selection()},g=(e,s,o)=>{h.impact("light"),p(e,s,o)};return t.jsxs("div",{className:"h-full flex flex-col",children:[t.jsxs("div",{className:"px-4 pt-4 pb-3",children:[t.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--tg-text)"},children:"Favorites ❤️"}),t.jsxs("p",{className:"text-sm mt-0.5",style:{color:"var(--tg-subtitle)"},children:[n.length," saved word",n.length!==1?"s":""]})]}),t.jsx("div",{className:"flex-1 overflow-y-auto px-4 pb-6",children:n.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center mt-12",children:[t.jsx(m,{size:48,style:{color:"var(--tg-hint)",opacity:.5}}),t.jsx("p",{className:"text-sm mt-3",style:{color:"var(--tg-hint)"},children:"No favorites yet"}),t.jsx("p",{className:"text-xs mt-1",style:{color:"var(--tg-hint)",opacity:.7},children:"Tap the heart icon on flashcards to save words"})]}):t.jsx("div",{className:"space-y-1.5",children:n.map((e,s)=>t.jsxs(w.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:Math.min(s*.03,.3)},className:"flex items-center gap-3 p-3 rounded-xl",style:{backgroundColor:"var(--tg-section-bg)",border:"1px solid var(--tg-secondary-bg)"},children:[t.jsx("button",{onClick:()=>g(e.editionId,e.unitId,e.word.word),className:"shrink-0 active:scale-90 transition-transform",children:t.jsx(m,{size:20,fill:"#ef4444",color:"#ef4444"})}),t.jsxs("button",{onClick:()=>r(`/unit/${e.editionId}/${e.unitId}`),className:"flex-1 text-left min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"font-semibold text-sm",style:{color:"var(--tg-text)"},children:e.word.word}),e.word.partOfSpeech&&t.jsx("span",{className:"text-xs px-1 py-0.5 rounded",style:{color:"var(--tg-hint)",backgroundColor:"var(--tg-secondary-bg)"},children:e.word.partOfSpeech})]}),t.jsx("p",{className:"text-xs mt-0.5 truncate",style:{color:"var(--tg-subtitle)"},children:e.word.meaning}),t.jsxs("p",{className:"text-xs",style:{color:"var(--tg-hint)"},children:["Book ",e.editionId," · Unit ",e.unitId]})]}),t.jsx("button",{onClick:()=>u(e.word.word),className:"shrink-0 active:opacity-60 p-2",children:t.jsx(k,{size:16,style:{color:"var(--tg-hint)"}})}),t.jsx("button",{onClick:()=>r(`/unit/${e.editionId}/${e.unitId}`),className:"shrink-0",children:t.jsx(I,{size:16,style:{color:"var(--tg-hint)"}})})]},e.key))})})]})};export{F as FavoritesPage};
